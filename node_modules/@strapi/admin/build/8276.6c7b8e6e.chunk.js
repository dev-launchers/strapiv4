"use strict";(self.webpackChunk_strapi_admin=self.webpackChunk_strapi_admin||[]).push([[8276],{50337:function(I,v,e){e.d(v,{pl:function(){return y},aY:function(){return r},q5:function(){return s.q}});var t=e(32735),f=e(19565),p=e(86209),u=e(97889);const l={data:[],isLoading:!0};var T=(d,E)=>(0,u.ZP)(d,a=>{switch(E.type){case"GET_DATA_SUCCEEDED":{a.data=E.data,a.isLoading=!1;break}case"GET_DATA_ERROR":{a.isLoading=!1;break}default:return a}}),y=({ssoEnabled:d})=>{const[E,a]=(0,t.useReducer)(T,l),o=(0,f.lm)(),{get:P}=(0,f.kY)();return(0,t.useEffect)(()=>{(async()=>{try{if(!d){a({type:"GET_DATA_SUCCEEDED",data:[]});return}const{data:O}=await P((0,p.IF)("providers"));a({type:"GET_DATA_SUCCEEDED",data:O})}catch(O){console.error(O),a({type:"GET_DATA_ERROR"}),o({type:"warning",message:{id:"notification.error"}})}})()},[P,d,o]),E},g=e(36866),h=e.n(g),m=e(67879),C=e(53038),s=e(53104);const L="strapi-notification-seat-limit",n="https://cloud.strapi.io/profile/billing",A="https://strapi.io/billing/request-seats";var r=()=>{const{formatMessage:d}=(0,m.Z)();let{license:E,isError:a,isLoading:o}=(0,s.q)();const P=(0,f.lm)(),{pathname:D}=(0,C.TH)(),{enforcementUserCount:O,permittedSeats:S,licenseLimitStatus:M,isHostedOnStrapiCloud:U}=E;(0,t.useEffect)(()=>{if(a||o)return;const Z=!h()(S)&&!window.sessionStorage.getItem(`${L}-${D}`)&&(M==="AT_LIMIT"||M==="OVER_LIMIT");let B;M==="OVER_LIMIT"?B="warning":M==="AT_LIMIT"&&(B="softWarning"),Z&&P({type:B,message:d({id:"notification.ee.warning.over-.message",defaultMessage:"Add seats to {licenseLimitStatus, select, OVER_LIMIT {invite} other {re-enable}} Users. If you already did it but it's not reflected in Strapi yet, make sure to restart your app."},{licenseLimitStatus:M}),title:d({id:"notification.ee.warning.at-seat-limit.title",defaultMessage:"{licenseLimitStatus, select, OVER_LIMIT {Over} other {At}} seat limit ({enforcementUserCount}/{permittedSeats})"},{licenseLimitStatus:M,enforcementUserCount:O,permittedSeats:S}),link:{url:U?n:A,label:d({id:"notification.ee.warning.seat-limit.link",defaultMessage:"{isHostedOnStrapiCloud, select, true {ADD SEATS} other {CONTACT SALES}}"},{isHostedOnStrapiCloud:U})},blockTransition:!0,onClose(){window.sessionStorage.setItem(`${L}-${D}`,!0)}})},[P,E,D,d,o,S,M,O,U,a])}},53104:function(I,v,e){e.d(v,{q:function(){return u}});var t=e(32735),f=e(19565),p=e(20108);function u({enabled:l}={enabled:!0}){const{get:c}=(0,f.kY)(),{data:T,isError:i,isLoading:y}=(0,p.useQuery)(["ee","license-limit-info"],async()=>{const{data:{data:m}}=await c("/admin/license-limit-information");return m},{enabled:l}),g=T??{},h=t.useCallback(m=>(g?.features??[]).find(s=>s.name===m)?.options??{},[g?.features]);return{license:g,getFeature:h,isError:i,isLoading:y}}},68726:function(I,v,e){var t=e(32735),f=e(87933),p=e(63919),u=e(49372),l=e(15335),c=e(5803),T=e(60216),i=e.n(T),y=e(67879),g=e(14911),h=e(8471);const m=h.ZP.a`
  width: ${136/16}rem;
  display: flex;
  justify-content: center;
  align-items: center;
  height: ${48/16}rem;
  border: 1px solid ${({theme:n})=>n.colors.neutral150};
  border-radius: ${({theme:n})=>n.borderRadius};
  text-decoration: inherit;
  &:link {
    text-decoration: none;
  }
  color: ${({theme:n})=>n.colors.neutral600};
`,C=(0,h.ZP)(f.k)`
  & a:not(:first-child):not(:last-child) {
    margin: 0 ${({theme:n})=>n.spaces[2]};
  }
  & a:first-child {
    margin-right: ${({theme:n})=>n.spaces[2]};
  }
  & a:last-child {
    margin-left: ${({theme:n})=>n.spaces[2]};
  }
`,s=({provider:n})=>t.createElement(p.u,{label:n.displayName},t.createElement(m,{href:`${window.strapi.backendURL}/admin/connect/${n.uid}`},n.icon?t.createElement("img",{src:n.icon,"aria-hidden":!0,alt:"",height:"32px"}):t.createElement(u.Z,null,n.displayName)));s.propTypes={provider:i().shape({icon:i().string,displayName:i().string.isRequired,uid:i().string.isRequired}).isRequired};const L=({providers:n,displayAllProviders:A})=>{const{formatMessage:R}=(0,y.Z)();return A?t.createElement(l.r,{gap:4},n.map(r=>t.createElement(c.P,{key:r.uid,col:4},t.createElement(s,{provider:r})))):n.length>2&&!A?t.createElement(l.r,{gap:4},n.slice(0,2).map(r=>t.createElement(c.P,{key:r.uid,col:4},t.createElement(s,{provider:r}))),t.createElement(c.P,{col:4},t.createElement(p.u,{label:R({id:"global.see-more"})},t.createElement(m,{as:g.rU,to:"/auth/providers"},t.createElement("span",{"aria-hidden":!0},"\u2022\u2022\u2022"))))):t.createElement(C,{justifyContent:"center"},n.map(r=>t.createElement(s,{key:r.uid,provider:r})))};L.defaultProps={displayAllProviders:!0},L.propTypes={providers:i().arrayOf(i().object).isRequired,displayAllProviders:i().bool},v.Z=L},18276:function(I,v,e){e.r(v),e.d(v,{FORMS:function(){return d}});var t=e(32735),f=e(9026),p=e(27649),u=e(72850),l=e(49372),c=e(87933),T=e(23866),i=e(41415),y=e(19565),g=e(67879),h=e(53038),m=e(8471),C=e(73678),s=e(11060),L=e(50337),n=e(68726);const A=(0,m.ZP)(f.i)`
  flex: 1;
`;var r=()=>{const E=window.strapi.features.isEnabled(window.strapi.features.SSO),{push:a}=(0,h.k6)(),{formatMessage:o}=(0,g.Z)(),{isLoading:P,data:D}=(0,L.pl)({ssoEnabled:E}),O=()=>{a("/auth/login")};return!E||!P&&D.length===0?t.createElement(h.l_,{to:"/auth/login"}):t.createElement(s.ZP,null,t.createElement(p.o,null,t.createElement(s.bU,null,t.createElement(s.sg,null,t.createElement(C.Z,null),t.createElement(u.x,{paddingTop:6,paddingBottom:1},t.createElement(l.Z,{as:"h1",variant:"alpha"},o({id:"Auth.form.welcome.title"}))),t.createElement(u.x,{paddingBottom:7},t.createElement(l.Z,{variant:"epsilon",textColor:"neutral600"},o({id:"Auth.login.sso.subtitle"})))),t.createElement(c.k,{direction:"column",alignItems:"stretch",gap:7},P?t.createElement(c.k,{justifyContent:"center"},t.createElement(T.a,null,o({id:"Auth.login.sso.loading"}))):t.createElement(n.Z,{providers:D}),t.createElement(c.k,null,t.createElement(A,null),t.createElement(u.x,{paddingLeft:3,paddingRight:3},t.createElement(l.Z,{variant:"sigma",textColor:"neutral600"},o({id:"or"}))),t.createElement(A,null)),t.createElement(i.z,{fullWidth:!0,size:"L",onClick:O},o({id:"Auth.form.button.login.strapi"})))),t.createElement(c.k,{justifyContent:"center"},t.createElement(u.x,{paddingTop:4},t.createElement(y.rU,{to:"/auth/forgot-password"},t.createElement(l.Z,{variant:"pi"},o({id:"Auth.link.forgot-password"})))))))};const d={providers:{Component:r,endPoint:null,fieldsToDisable:[],fieldsToOmit:[],schema:null,inputsPrefix:""}}}}]);

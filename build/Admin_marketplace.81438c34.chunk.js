(self["webpackChunkdevlaunchers_strapiv4"] = self["webpackChunkdevlaunchers_strapiv4"] || []).push([[5516],{

/***/ 29307:
/***/ (function(module, __unused_webpack_exports, __webpack_require__) {

!function(e,t){ true?module.exports=t(__webpack_require__(53547)):0}(this,(function(e){return function(e){var t={};function r(n){if(t[n])return t[n].exports;var o=t[n]={i:n,l:!1,exports:{}};return e[n].call(o.exports,o,o.exports,r),o.l=!0,o.exports}return r.m=e,r.c=t,r.d=function(e,t,n){r.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},r.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},r.t=function(e,t){if(1&t&&(e=r(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(r.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var o in e)r.d(n,o,function(t){return e[t]}.bind(null,o));return n},r.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return r.d(t,"a",t),t},r.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},r.p="",r(r.s=86)}({0:function(t,r){t.exports=e},86:function(e,t,r){"use strict";r.r(t);var n=r(0);function o(){return(o=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}t.default=function(e){return n.createElement("svg",o({width:"1em",height:"1em",viewBox:"0 0 32 32",fill:"none",xmlns:"http://www.w3.org/2000/svg"},e),n.createElement("path",{d:"M0 4a4 4 0 014-4h24a4 4 0 014 4v24a4 4 0 01-4 4H4a4 4 0 01-4-4V4z",fill:"#AC73E6"}),n.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M15.027 13.839c-3.19-.836-6.305-1.064-10.18-.608-1.215.152-1.063 1.975.076 2.203.304.836.456 2.355.912 3.267.987 2.279 5.622 1.975 7.369.835 1.14-.683 1.443-2.279 1.9-3.494.227-.684 1.595-.684 1.822 0 .38 1.215.76 2.81 1.9 3.494 1.747 1.14 6.381 1.444 7.369-.835.456-.912.607-2.431.911-3.267 1.14-.228 1.216-2.051.076-2.203-3.874-.456-6.989-.228-10.18.608-.455.075-1.519.075-1.975 0z",fill:"#fff"}))}}})}));

/***/ }),

/***/ 17908:
/***/ (function(module, __unused_webpack_exports, __webpack_require__) {

!function(e,t){ true?module.exports=t(__webpack_require__(53547)):0}(this,(function(e){return function(e){var t={};function r(n){if(t[n])return t[n].exports;var o=t[n]={i:n,l:!1,exports:{}};return e[n].call(o.exports,o,o.exports,r),o.l=!0,o.exports}return r.m=e,r.c=t,r.d=function(e,t,n){r.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},r.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},r.t=function(e,t){if(1&t&&(e=r(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(r.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var o in e)r.d(n,o,function(t){return e[t]}.bind(null,o));return n},r.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return r.d(t,"a",t),t},r.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},r.p="",r(r.s=187)}({0:function(t,r){t.exports=e},187:function(e,t,r){"use strict";r.r(t);var n=r(0);function o(){return(o=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}t.default=function(e){return n.createElement("svg",o({width:"1em",height:"1em",viewBox:"0 0 24 25",fill:"none",xmlns:"http://www.w3.org/2000/svg"},e),n.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M13.571 18.272H10.43v-8.47H2.487a.2.2 0 01-.14-.343L11.858.058a.2.2 0 01.282 0l9.513 9.4a.2.2 0 01-.14.343H13.57v8.47zM2.2 21.095a.2.2 0 00-.2.2v2.424c0 .11.09.2.2.2h19.6a.2.2 0 00.2-.2v-2.424a.2.2 0 00-.2-.2H2.2z",fill:"#212134"}))}}})}));

/***/ }),

/***/ 44021:
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
// ESM COMPAT FLAG
__webpack_require__.r(__webpack_exports__);

// EXPORTS
__webpack_require__.d(__webpack_exports__, {
  "MarketPlacePage": () => (/* binding */ MarketPlacePage),
  "default": () => (/* binding */ MarketplacePage)
});

// EXTERNAL MODULE: ./node_modules/@strapi/admin/node_modules/react/index.js
var react = __webpack_require__(53547);
// EXTERNAL MODULE: ./node_modules/react-intl/index.js
var react_intl = __webpack_require__(97132);
// EXTERNAL MODULE: ./node_modules/react-helmet/lib/Helmet.js
var Helmet = __webpack_require__(15482);
// EXTERNAL MODULE: ./node_modules/match-sorter/dist/match-sorter.cjs.js
var match_sorter_cjs = __webpack_require__(63852);
// EXTERNAL MODULE: ./node_modules/@strapi/helper-plugin/build/index.js
var build = __webpack_require__(68547);
// EXTERNAL MODULE: ./node_modules/@strapi/admin/node_modules/@strapi/design-system/Layout.js
var Layout = __webpack_require__(35395);
// EXTERNAL MODULE: ./node_modules/@strapi/admin/node_modules/@strapi/design-system/Main.js
var Main = __webpack_require__(80117);
// EXTERNAL MODULE: ./node_modules/@strapi/admin/node_modules/@strapi/design-system/Searchbar.js
var Searchbar = __webpack_require__(36565);
// EXTERNAL MODULE: ./node_modules/@strapi/admin/node_modules/@strapi/design-system/Box.js
var Box = __webpack_require__(94117);
// EXTERNAL MODULE: ./node_modules/@strapi/admin/node_modules/@strapi/design-system/LiveRegions.js
var LiveRegions = __webpack_require__(67422);
// EXTERNAL MODULE: ./node_modules/@strapi/admin/node_modules/@strapi/design-system/Typography.js
var Typography = __webpack_require__(33483);
// EXTERNAL MODULE: ./node_modules/@strapi/admin/node_modules/@strapi/design-system/Flex.js
var Flex = __webpack_require__(40264);
// EXTERNAL MODULE: ./node_modules/@strapi/admin/node_modules/@strapi/design-system/Tabs.js
var Tabs = __webpack_require__(1738);
// EXTERNAL MODULE: ./node_modules/prop-types/index.js
var prop_types = __webpack_require__(45697);
var prop_types_default = /*#__PURE__*/__webpack_require__.n(prop_types);
// EXTERNAL MODULE: ./node_modules/@strapi/admin/node_modules/@strapi/design-system/Icon.js
var Icon = __webpack_require__(33699);
// EXTERNAL MODULE: ./node_modules/@strapi/admin/node_modules/@strapi/icons/EmptyDocuments.js
var EmptyDocuments = __webpack_require__(26485);
var EmptyDocuments_default = /*#__PURE__*/__webpack_require__.n(EmptyDocuments);
// EXTERNAL MODULE: ./node_modules/styled-components/dist/styled-components.browser.cjs.js
var styled_components_browser_cjs = __webpack_require__(78384);
;// CONCATENATED MODULE: ./.cache/admin/src/pages/MarketplacePage/components/EmptyNpmPackageSearch/EmptyNpmPackageGrid.js




const EmptyPluginCard = (0,styled_components_browser_cjs["default"])(Box.Box)`
  background: ${({ theme }) => `linear-gradient(180deg, rgba(234, 234, 239, 0) 0%, ${theme.colors.neutral150} 100%)`};
  opacity: 0.33;
`;
const EmptyNpmPackageGrid = () => {
  return /* @__PURE__ */ react.createElement(Layout.GridLayout, null, Array(12).fill(null).map((_, idx) => /* @__PURE__ */ react.createElement(EmptyPluginCard, {
    key: `empty-plugin-card-${idx}`,
    height: "234px",
    hasRadius: true
  })));
};

;// CONCATENATED MODULE: ./.cache/admin/src/pages/MarketplacePage/components/EmptyNpmPackageSearch/index.js








const EmptyNpmPackageSearch = ({ content }) => {
  return /* @__PURE__ */ react.createElement(Box.Box, {
    position: "relative"
  }, /* @__PURE__ */ react.createElement(EmptyNpmPackageGrid, null), /* @__PURE__ */ react.createElement(Box.Box, {
    position: "absolute",
    top: 11,
    width: "100%"
  }, /* @__PURE__ */ react.createElement(Flex.Flex, {
    alignItems: "center",
    justifyContent: "center",
    direction: "column"
  }, /* @__PURE__ */ react.createElement(Icon.Icon, {
    as: (EmptyDocuments_default()),
    color: "",
    width: "160px",
    height: "88px"
  }), /* @__PURE__ */ react.createElement(Box.Box, {
    paddingTop: 6
  }, /* @__PURE__ */ react.createElement(Typography.Typography, {
    variant: "delta",
    as: "p",
    textColor: "neutral600"
  }, content)))));
};
EmptyNpmPackageSearch.propTypes = {
  content: (prop_types_default()).string.isRequired
};
/* harmony default export */ const components_EmptyNpmPackageSearch = (EmptyNpmPackageSearch);

// EXTERNAL MODULE: ./node_modules/@strapi/admin/node_modules/@strapi/design-system/v2/LinkButton.js
var LinkButton = __webpack_require__(22499);
// EXTERNAL MODULE: ./node_modules/@strapi/admin/node_modules/@strapi/icons/Upload.js
var Upload = __webpack_require__(17908);
var Upload_default = /*#__PURE__*/__webpack_require__.n(Upload);
;// CONCATENATED MODULE: ./.cache/admin/src/pages/MarketplacePage/components/PageHeader/index.js







const PageHeader = ({ isOnline, npmPackageType }) => {
  const { formatMessage } = (0,react_intl.useIntl)();
  const { trackUsage } = (0,build.useTracking)();
  const tracking = npmPackageType === "provider" ? "didSubmitProvider" : "didSubmitPlugin";
  return /* @__PURE__ */ react.createElement(Layout.HeaderLayout, {
    title: formatMessage({
      id: "global.marketplace",
      defaultMessage: "Marketplace"
    }),
    subtitle: formatMessage({
      id: "admin.pages.MarketPlacePage.subtitle",
      defaultMessage: "Get more out of Strapi"
    }),
    primaryAction: isOnline && /* @__PURE__ */ react.createElement(LinkButton.LinkButton, {
      startIcon: /* @__PURE__ */ react.createElement((Upload_default()), null),
      variant: "tertiary",
      href: `https://market.strapi.io/submit-${npmPackageType}`,
      onClick: () => trackUsage(tracking),
      isExternal: true
    }, formatMessage({
      id: `admin.pages.MarketPlacePage.submit.${npmPackageType}.link`,
      defaultMessage: `Submit ${npmPackageType}`
    }))
  });
};
/* harmony default export */ const components_PageHeader = (PageHeader);
PageHeader.defaultProps = {
  npmPackageType: "plugin"
};
PageHeader.propTypes = {
  isOnline: (prop_types_default()).bool.isRequired,
  npmPackageType: (prop_types_default()).string
};

// EXTERNAL MODULE: ./node_modules/react-query/lib/index.js
var lib = __webpack_require__(23724);
// EXTERNAL MODULE: ./node_modules/axios/index.js
var axios = __webpack_require__(9669);
var axios_default = /*#__PURE__*/__webpack_require__.n(axios);
;// CONCATENATED MODULE: ./.cache/admin/src/hooks/useFetchMarketplaceProviders/utils/api.js
var __async = (__this, __arguments, generator) => {
  return new Promise((resolve, reject) => {
    var fulfilled = (value) => {
      try {
        step(generator.next(value));
      } catch (e) {
        reject(e);
      }
    };
    var rejected = (value) => {
      try {
        step(generator.throw(value));
      } catch (e) {
        reject(e);
      }
    };
    var step = (x) => x.done ? resolve(x.value) : Promise.resolve(x.value).then(fulfilled, rejected);
    step((generator = generator.apply(__this, __arguments)).next());
  });
};

const MARKETPLACE_API_URL = "https://market-api.strapi.io";
const fetchMarketplacePlugins = () => __async(void 0, null, function* () {
  const { data } = yield axios_default().get(`${MARKETPLACE_API_URL}/providers`);
  return data;
});


;// CONCATENATED MODULE: ./.cache/admin/src/hooks/useFetchMarketplaceProviders/index.js



const useFetchMarketplaceProviders = (notifyLoad) => {
  const toggleNotification = (0,build.useNotification)();
  return (0,lib.useQuery)("list-marketplace-providers", () => fetchMarketplacePlugins(), {
    onSuccess: () => {
      if (notifyLoad) {
        notifyLoad();
      }
    },
    onError: () => {
      toggleNotification({
        type: "warning",
        message: { id: "notification.error", defaultMessage: "An error occured" }
      });
    }
  });
};
/* harmony default export */ const hooks_useFetchMarketplaceProviders = (useFetchMarketplaceProviders);

;// CONCATENATED MODULE: ./.cache/admin/src/hooks/useFetchMarketplacePlugins/utils/api.js
var __defProp = Object.defineProperty;
var __defProps = Object.defineProperties;
var __getOwnPropDescs = Object.getOwnPropertyDescriptors;
var __getOwnPropSymbols = Object.getOwnPropertySymbols;
var __hasOwnProp = Object.prototype.hasOwnProperty;
var __propIsEnum = Object.prototype.propertyIsEnumerable;
var __defNormalProp = (obj, key, value) => key in obj ? __defProp(obj, key, { enumerable: true, configurable: true, writable: true, value }) : obj[key] = value;
var __spreadValues = (a, b) => {
  for (var prop in b || (b = {}))
    if (__hasOwnProp.call(b, prop))
      __defNormalProp(a, prop, b[prop]);
  if (__getOwnPropSymbols)
    for (var prop of __getOwnPropSymbols(b)) {
      if (__propIsEnum.call(b, prop))
        __defNormalProp(a, prop, b[prop]);
    }
  return a;
};
var __spreadProps = (a, b) => __defProps(a, __getOwnPropDescs(b));
var api_async = (__this, __arguments, generator) => {
  return new Promise((resolve, reject) => {
    var fulfilled = (value) => {
      try {
        step(generator.next(value));
      } catch (e) {
        reject(e);
      }
    };
    var rejected = (value) => {
      try {
        step(generator.throw(value));
      } catch (e) {
        reject(e);
      }
    };
    var step = (x) => x.done ? resolve(x.value) : Promise.resolve(x.value).then(fulfilled, rejected);
    step((generator = generator.apply(__this, __arguments)).next());
  });
};

const api_MARKETPLACE_API_URL = "https://market-api.strapi.io";
const api_fetchMarketplacePlugins = () => api_async(void 0, null, function* () {
  const { data: response } = yield axios_default().get(`${api_MARKETPLACE_API_URL}/plugins`);
  const filteredResponse = __spreadProps(__spreadValues({}, response), {
    data: response.data.filter((plugin) => plugin.attributes.strapiCompatibility === "v4")
  });
  return filteredResponse;
});


;// CONCATENATED MODULE: ./.cache/admin/src/hooks/useFetchMarketplacePlugins/index.js



const useFetchMarketplacePlugins = (notifyLoad) => {
  const toggleNotification = (0,build.useNotification)();
  return (0,lib.useQuery)("list-marketplace-plugins", () => api_fetchMarketplacePlugins(), {
    onSuccess: () => {
      if (notifyLoad) {
        notifyLoad();
      }
    },
    onError: () => {
      toggleNotification({
        type: "warning",
        message: { id: "notification.error", defaultMessage: "An error occured" }
      });
    }
  });
};
/* harmony default export */ const hooks_useFetchMarketplacePlugins = (useFetchMarketplacePlugins);

// EXTERNAL MODULE: ./.cache/admin/src/permissions/index.js + 1 modules
var permissions = __webpack_require__(87751);
;// CONCATENATED MODULE: ./.cache/admin/src/assets/images/icon_offline-cloud.svg
const icon_offline_cloud_namespaceObject = __webpack_require__.p + "a6b842e0b6d2b61135d1.svg";
;// CONCATENATED MODULE: ./.cache/admin/src/hooks/useNavigatorOnLine/index.js

const useNavigatorOnLine = () => {
  const onlineStatus = typeof navigator !== "undefined" && typeof navigator.onLine === "boolean" ? navigator.onLine : true;
  const [isOnline, setIsOnline] = (0,react.useState)(onlineStatus);
  const setOnline = () => setIsOnline(true);
  const setOffline = () => setIsOnline(false);
  (0,react.useEffect)(() => {
    window.addEventListener("online", setOnline);
    window.addEventListener("offline", setOffline);
    return () => {
      window.removeEventListener("online", setOnline);
      window.removeEventListener("offline", setOffline);
    };
  }, []);
  return isOnline;
};
/* harmony default export */ const hooks_useNavigatorOnLine = (useNavigatorOnLine);

// EXTERNAL MODULE: ./node_modules/@strapi/admin/node_modules/@strapi/icons/GlassesSquare.js
var GlassesSquare = __webpack_require__(29307);
var GlassesSquare_default = /*#__PURE__*/__webpack_require__.n(GlassesSquare);
// EXTERNAL MODULE: ./node_modules/@strapi/admin/node_modules/@strapi/icons/ExternalLink.js
var ExternalLink = __webpack_require__(74657);
var ExternalLink_default = /*#__PURE__*/__webpack_require__.n(ExternalLink);
;// CONCATENATED MODULE: ./.cache/admin/src/pages/MarketplacePage/components/MissingPluginBanner/index.js






const MissingPluginBanner = () => {
  const { formatMessage } = (0,react_intl.useIntl)();
  const { trackUsage } = (0,build.useTracking)();
  return /* @__PURE__ */ react.createElement("a", {
    href: "https://strapi.canny.io/plugin-requests",
    target: "_blank",
    rel: "noopener noreferrer nofollow",
    style: { textDecoration: "none" },
    onClick: () => trackUsage("didMissMarketplacePlugin")
  }, /* @__PURE__ */ react.createElement(build.ContentBox, {
    title: formatMessage({
      id: "admin.pages.MarketPlacePage.missingPlugin.title",
      defaultMessage: "Documentation"
    }),
    subtitle: formatMessage({
      id: "admin.pages.MarketPlacePage.missingPlugin.description",
      defaultMessage: "Tell us what plugin you are looking for and we'll let our community plugin developers know in case they are in search for inspiration!"
    }),
    icon: /* @__PURE__ */ react.createElement((GlassesSquare_default()), null),
    iconBackground: "alternative100",
    endAction: /* @__PURE__ */ react.createElement(Icon.Icon, {
      as: (ExternalLink_default()),
      color: "neutral600",
      width: 3,
      height: 3,
      marginLeft: 2
    })
  }));
};
/* harmony default export */ const components_MissingPluginBanner = (MissingPluginBanner);

// EXTERNAL MODULE: ./node_modules/@strapi/admin/node_modules/@strapi/design-system/Grid.js
var Grid = __webpack_require__(39272);
// EXTERNAL MODULE: ./node_modules/pluralize/pluralize.js
var pluralize = __webpack_require__(23450);
var pluralize_default = /*#__PURE__*/__webpack_require__.n(pluralize);
// EXTERNAL MODULE: ./node_modules/@strapi/admin/node_modules/@strapi/design-system/Stack.js
var Stack = __webpack_require__(9524);
// EXTERNAL MODULE: ./node_modules/@strapi/admin/node_modules/@strapi/design-system/Tooltip.js
var Tooltip = __webpack_require__(55639);
// EXTERNAL MODULE: ./node_modules/@strapi/admin/node_modules/@strapi/icons/CheckCircle.js
var CheckCircle = __webpack_require__(37694);
var CheckCircle_default = /*#__PURE__*/__webpack_require__.n(CheckCircle);
;// CONCATENATED MODULE: ./.cache/admin/src/assets/images/icon_made-by-strapi.svg
const icon_made_by_strapi_namespaceObject = __webpack_require__.p + "90f49a385afb000fb1d4.svg";
// EXTERNAL MODULE: ./node_modules/react-copy-to-clipboard/lib/index.js
var react_copy_to_clipboard_lib = __webpack_require__(74855);
// EXTERNAL MODULE: ./node_modules/@strapi/admin/node_modules/@strapi/icons/Check.js
var Check = __webpack_require__(22754);
var Check_default = /*#__PURE__*/__webpack_require__.n(Check);
// EXTERNAL MODULE: ./node_modules/@strapi/admin/node_modules/@strapi/icons/Duplicate.js
var Duplicate = __webpack_require__(54279);
var Duplicate_default = /*#__PURE__*/__webpack_require__.n(Duplicate);
// EXTERNAL MODULE: ./node_modules/@strapi/admin/node_modules/@strapi/design-system/Button.js
var Button = __webpack_require__(64459);
;// CONCATENATED MODULE: ./.cache/admin/src/pages/MarketplacePage/components/NpmPackageCard/InstallPluginButton.js











const InstallPluginButton = ({ isInstalled, isInDevelopmentMode, commandToCopy }) => {
  const toggleNotification = (0,build.useNotification)();
  const { formatMessage } = (0,react_intl.useIntl)();
  const { trackUsage } = (0,build.useTracking)();
  if (isInstalled) {
    return /* @__PURE__ */ react.createElement(Box.Box, {
      paddingLeft: 4
    }, /* @__PURE__ */ react.createElement(Icon.Icon, {
      as: (Check_default()),
      marginRight: 2,
      width: 12,
      height: 12,
      color: "success600"
    }), /* @__PURE__ */ react.createElement(Typography.Typography, {
      variant: "omega",
      textColor: "success600",
      fontWeight: "bold"
    }, formatMessage({
      id: "admin.pages.MarketPlacePage.plugin.installed",
      defaultMessage: "Installed"
    })));
  }
  if (isInDevelopmentMode) {
    return /* @__PURE__ */ react.createElement(react_copy_to_clipboard_lib.CopyToClipboard, {
      onCopy: () => {
        trackUsage("willInstallPlugin");
        toggleNotification({
          type: "success",
          message: { id: "admin.pages.MarketPlacePage.plugin.copy.success" }
        });
      },
      text: commandToCopy
    }, /* @__PURE__ */ react.createElement(Button.Button, {
      size: "S",
      startIcon: /* @__PURE__ */ react.createElement((Duplicate_default()), null),
      variant: "secondary"
    }, formatMessage({
      id: "admin.pages.MarketPlacePage.plugin.copy",
      defaultMessage: "Copy install command"
    })));
  }
  return null;
};
InstallPluginButton.propTypes = {
  isInstalled: (prop_types_default()).bool.isRequired,
  isInDevelopmentMode: (prop_types_default()).bool.isRequired,
  commandToCopy: (prop_types_default()).string.isRequired
};
/* harmony default export */ const NpmPackageCard_InstallPluginButton = (InstallPluginButton);

;// CONCATENATED MODULE: ./.cache/admin/src/pages/MarketplacePage/components/NpmPackageCard/index.js

















const EllipsisText = (0,styled_components_browser_cjs["default"])(Typography.Typography)`
  /* stylelint-disable value-no-vendor-prefix, property-no-vendor-prefix */
  display: -webkit-box;
  -webkit-box-orient: vertical;
  -webkit-line-clamp: 2;
  /* stylelint-enable value-no-vendor-prefix, property-no-vendor-prefix */
  overflow: hidden;
`;
const NpmPackageCard = ({
  npmPackage,
  isInstalled,
  useYarn,
  isInDevelopmentMode,
  npmPackageType
}) => {
  const { attributes } = npmPackage;
  const { formatMessage } = (0,react_intl.useIntl)();
  const { trackUsage } = (0,build.useTracking)();
  const commandToCopy = useYarn ? `yarn add ${attributes.npmPackageName}` : `npm install ${attributes.npmPackageName}`;
  const madeByStrapiMessage = formatMessage({
    id: "admin.pages.MarketPlacePage.plugin.tooltip.madeByStrapi",
    defaultMessage: "Made by Strapi"
  });
  const npmPackageHref = `https://market.strapi.io/${pluralize_default().plural(npmPackageType)}/${attributes.slug}`;
  return /* @__PURE__ */ react.createElement(Flex.Flex, {
    direction: "column",
    justifyContent: "space-between",
    paddingTop: 4,
    paddingRight: 4,
    paddingBottom: 4,
    paddingLeft: 4,
    hasRadius: true,
    background: "neutral0",
    shadow: "tableShadow",
    height: "100%",
    alignItems: "normal",
    "data-testid": "npm-package-card"
  }, /* @__PURE__ */ react.createElement(Box.Box, null, /* @__PURE__ */ react.createElement(Box.Box, {
    as: "img",
    src: attributes.logo.url,
    alt: `${attributes.name} logo`,
    hasRadius: true,
    width: 11,
    height: 11
  }), /* @__PURE__ */ react.createElement(Box.Box, {
    paddingTop: 4
  }, /* @__PURE__ */ react.createElement(Typography.Typography, {
    as: "h3",
    variant: "delta"
  }, /* @__PURE__ */ react.createElement(Flex.Flex, {
    alignItems: "center"
  }, attributes.name, attributes.validated && !attributes.madeByStrapi && /* @__PURE__ */ react.createElement(Tooltip.Tooltip, {
    description: formatMessage({
      id: "admin.pages.MarketPlacePage.plugin.tooltip.verified",
      defaultMessage: "Plugin verified by Strapi"
    })
  }, /* @__PURE__ */ react.createElement(Flex.Flex, null, /* @__PURE__ */ react.createElement(Icon.Icon, {
    as: (CheckCircle_default()),
    marginLeft: 2,
    color: "success600"
  }))), attributes.madeByStrapi && /* @__PURE__ */ react.createElement(Tooltip.Tooltip, {
    description: madeByStrapiMessage
  }, /* @__PURE__ */ react.createElement(Flex.Flex, null, /* @__PURE__ */ react.createElement(Box.Box, {
    as: "img",
    src: icon_made_by_strapi_namespaceObject,
    alt: madeByStrapiMessage,
    marginLeft: 1,
    width: 6,
    height: "auto"
  })))))), /* @__PURE__ */ react.createElement(Box.Box, {
    paddingTop: 2
  }, /* @__PURE__ */ react.createElement(EllipsisText, {
    as: "p",
    variant: "omega",
    textColor: "neutral600"
  }, attributes.description))), /* @__PURE__ */ react.createElement(Stack.Stack, {
    horizontal: true,
    spacing: 2,
    style: { alignSelf: "flex-end" },
    paddingTop: 6
  }, /* @__PURE__ */ react.createElement(LinkButton.LinkButton, {
    size: "S",
    href: npmPackageHref,
    isExternal: true,
    endIcon: /* @__PURE__ */ react.createElement((ExternalLink_default()), null),
    "aria-label": formatMessage(
      {
        id: "admin.pages.MarketPlacePage.plugin.info.label",
        defaultMessage: "Learn more about {pluginName}"
      },
      { pluginName: attributes.name }
    ),
    variant: "tertiary",
    onClick: () => trackUsage("didPluginLearnMore")
  }, formatMessage({
    id: "admin.pages.MarketPlacePage.plugin.info.text",
    defaultMessage: "Learn more"
  })), /* @__PURE__ */ react.createElement(NpmPackageCard_InstallPluginButton, {
    isInstalled,
    isInDevelopmentMode,
    commandToCopy
  })));
};
NpmPackageCard.defaultProps = {
  isInDevelopmentMode: false
};
NpmPackageCard.propTypes = {
  npmPackage: prop_types_default().shape({
    id: (prop_types_default()).string.isRequired,
    attributes: prop_types_default().shape({
      name: (prop_types_default()).string.isRequired,
      description: (prop_types_default()).string.isRequired,
      slug: (prop_types_default()).string.isRequired,
      npmPackageName: (prop_types_default()).string.isRequired,
      npmPackageUrl: (prop_types_default()).string.isRequired,
      repositoryUrl: (prop_types_default()).string.isRequired,
      logo: (prop_types_default()).object.isRequired,
      developerName: (prop_types_default()).string.isRequired,
      validated: (prop_types_default()).bool.isRequired,
      madeByStrapi: (prop_types_default()).bool.isRequired,
      strapiCompatibility: prop_types_default().oneOf(["v3", "v4"])
    }).isRequired
  }).isRequired,
  isInstalled: (prop_types_default()).bool.isRequired,
  useYarn: (prop_types_default()).bool.isRequired,
  isInDevelopmentMode: (prop_types_default()).bool,
  npmPackageType: (prop_types_default()).string.isRequired
};
/* harmony default export */ const components_NpmPackageCard = (NpmPackageCard);

;// CONCATENATED MODULE: ./.cache/admin/src/pages/MarketplacePage/components/NpmPackagesGrid/index.js




const NpmPackagesGrid = ({
  npmPackages,
  installedPackageNames,
  useYarn,
  isInDevelopmentMode,
  npmPackageType
}) => {
  const isAlreadyInstalled = (0,react.useCallback)(
    (npmPackageName) => installedPackageNames.includes(npmPackageName),
    [installedPackageNames]
  );
  return /* @__PURE__ */ react.createElement(Grid.Grid, {
    gap: 4
  }, npmPackages.map((npmPackage) => /* @__PURE__ */ react.createElement(Grid.GridItem, {
    col: 4,
    s: 6,
    xs: 12,
    style: { height: "100%" },
    key: npmPackage.id
  }, /* @__PURE__ */ react.createElement(components_NpmPackageCard, {
    npmPackage,
    isInstalled: isAlreadyInstalled(npmPackage.attributes.npmPackageName),
    useYarn,
    isInDevelopmentMode,
    npmPackageType
  }))));
};
NpmPackagesGrid.defaultProps = {
  installedPackageNames: []
};
NpmPackagesGrid.propTypes = {
  npmPackages: (prop_types_default()).array.isRequired,
  installedPackageNames: prop_types_default().arrayOf((prop_types_default()).string),
  useYarn: (prop_types_default()).bool.isRequired,
  isInDevelopmentMode: (prop_types_default()).bool.isRequired,
  npmPackageType: (prop_types_default()).string.isRequired
};
/* harmony default export */ const components_NpmPackagesGrid = (NpmPackagesGrid);

;// CONCATENATED MODULE: ./.cache/admin/src/pages/MarketplacePage/index.js






















const matchSearch = (npmPackages, search) => {
  return (0,match_sorter_cjs/* default */.ZP)(npmPackages, search, {
    keys: [
      {
        threshold: match_sorter_cjs/* default.rankings.WORD_STARTS_WITH */.ZP.rankings.WORD_STARTS_WITH,
        key: "attributes.name"
      },
      { threshold: match_sorter_cjs/* default.rankings.WORD_STARTS_WITH */.ZP.rankings.WORD_STARTS_WITH, key: "attributes.description" }
    ]
  });
};
const MarketPlacePage = () => {
  const { formatMessage } = (0,react_intl.useIntl)();
  const { trackUsage } = (0,build.useTracking)();
  const { notifyStatus } = (0,LiveRegions.useNotifyAT)();
  const trackUsageRef = (0,react.useRef)(trackUsage);
  const toggleNotification = (0,build.useNotification)();
  const [searchQuery, setSearchQuery] = (0,react.useState)("");
  const [npmPackageType, setNpmPackageType] = (0,react.useState)("plugin");
  const { autoReload: isInDevelopmentMode, dependencies, useYarn } = (0,build.useAppInfos)();
  const isOnline = hooks_useNavigatorOnLine();
  (0,build.useFocusWhenNavigate)();
  const marketplaceTitle = formatMessage({
    id: "global.marketplace",
    defaultMessage: "Marketplace"
  });
  const notifyMarketplaceLoad = () => {
    notifyStatus(
      formatMessage(
        {
          id: "app.utils.notify.data-loaded",
          defaultMessage: "The {target} has loaded"
        },
        { target: marketplaceTitle }
      )
    );
  };
  const {
    status: marketplacePluginsStatus,
    data: marketplacePluginsResponse
  } = hooks_useFetchMarketplacePlugins(notifyMarketplaceLoad);
  const {
    status: marketplaceProvidersStatus,
    data: marketplaceProvidersResponse
  } = hooks_useFetchMarketplaceProviders(notifyMarketplaceLoad);
  const isLoading = [marketplacePluginsStatus, marketplaceProvidersStatus].includes("loading");
  const hasFailed = [marketplacePluginsStatus, marketplaceProvidersStatus].includes("error");
  (0,react.useEffect)(() => {
    trackUsageRef.current("didGoToMarketplace");
  }, []);
  (0,react.useEffect)(() => {
    if (!isInDevelopmentMode) {
      toggleNotification({
        type: "info",
        message: {
          id: "admin.pages.MarketPlacePage.production",
          defaultMessage: "Manage plugins from the development environment"
        },
        blockTransition: true
      });
    }
  }, [toggleNotification, isInDevelopmentMode]);
  if (!isOnline) {
    return /* @__PURE__ */ react.createElement(Layout.Layout, null, /* @__PURE__ */ react.createElement(Main.Main, null, /* @__PURE__ */ react.createElement(components_PageHeader, {
      isOnline
    }), /* @__PURE__ */ react.createElement(Flex.Flex, {
      width: "100%",
      direction: "column",
      alignItems: "center",
      justifyContent: "center",
      style: { paddingTop: "120px" }
    }, /* @__PURE__ */ react.createElement(Box.Box, {
      paddingBottom: 2
    }, /* @__PURE__ */ react.createElement(Typography.Typography, {
      textColor: "neutral700",
      variant: "alpha"
    }, formatMessage({
      id: "admin.pages.MarketPlacePage.offline.title",
      defaultMessage: "You are offline"
    }))), /* @__PURE__ */ react.createElement(Box.Box, {
      paddingBottom: 6
    }, /* @__PURE__ */ react.createElement(Typography.Typography, {
      textColor: "neutral700",
      variant: "epsilon"
    }, formatMessage({
      id: "admin.pages.MarketPlacePage.offline.subtitle",
      defaultMessage: "You need to be connected to the Internet to access Strapi Market."
    }))), /* @__PURE__ */ react.createElement("img", {
      src: icon_offline_cloud_namespaceObject,
      alt: "offline",
      style: { width: "88px", height: "88px" }
    }))));
  }
  if (hasFailed) {
    return /* @__PURE__ */ react.createElement(Layout.Layout, null, /* @__PURE__ */ react.createElement(Layout.ContentLayout, null, /* @__PURE__ */ react.createElement(Box.Box, {
      paddingTop: 8
    }, /* @__PURE__ */ react.createElement(build.AnErrorOccurred, null))));
  }
  if (isLoading) {
    return /* @__PURE__ */ react.createElement(Layout.Layout, null, /* @__PURE__ */ react.createElement(Main.Main, {
      "aria-busy": true
    }, /* @__PURE__ */ react.createElement(build.LoadingIndicatorPage, null)));
  }
  const pluginSearchResults = matchSearch(marketplacePluginsResponse.data, searchQuery);
  const providerSearchResults = matchSearch(marketplaceProvidersResponse.data, searchQuery);
  const emptySearchMessage = formatMessage(
    {
      id: "admin.pages.MarketPlacePage.search.empty",
      defaultMessage: 'No result for "{target}"'
    },
    { target: searchQuery }
  );
  const handleTabChange = (selected) => {
    const packageType = selected === 0 ? "plugin" : "provider";
    setNpmPackageType(packageType);
  };
  const installedPackageNames = Object.keys(dependencies);
  return /* @__PURE__ */ react.createElement(Layout.Layout, null, /* @__PURE__ */ react.createElement(Main.Main, null, /* @__PURE__ */ react.createElement(Helmet.Helmet, {
    title: formatMessage({
      id: "admin.pages.MarketPlacePage.helmet",
      defaultMessage: "Marketplace - Plugins"
    })
  }), /* @__PURE__ */ react.createElement(components_PageHeader, {
    isOnline,
    npmPackageType
  }), /* @__PURE__ */ react.createElement(Layout.ContentLayout, null, /* @__PURE__ */ react.createElement(Box.Box, {
    width: "25%",
    paddingBottom: 4
  }, /* @__PURE__ */ react.createElement(Searchbar.Searchbar, {
    name: "searchbar",
    onClear: () => setSearchQuery(""),
    value: searchQuery,
    onChange: (e) => setSearchQuery(e.target.value),
    clearLabel: formatMessage({
      id: "admin.pages.MarketPlacePage.search.clear",
      defaultMessage: "Clear the search"
    }),
    placeholder: formatMessage({
      id: "admin.pages.MarketPlacePage.search.placeholder",
      defaultMessage: "Search"
    })
  }, formatMessage({
    id: "admin.pages.MarketPlacePage.search.placeholder",
    defaultMessage: "Search"
  }))), /* @__PURE__ */ react.createElement(Tabs.TabGroup, {
    label: formatMessage({
      id: "admin.pages.MarketPlacePage.tab-group.label",
      defaultMessage: "Plugins and Providers for Strapi"
    }),
    id: "tabs",
    variant: "simple",
    onTabChange: handleTabChange
  }, /* @__PURE__ */ react.createElement(Box.Box, {
    paddingBottom: 4
  }, /* @__PURE__ */ react.createElement(Tabs.Tabs, null, /* @__PURE__ */ react.createElement(Tabs.Tab, null, formatMessage({
    id: "admin.pages.MarketPlacePage.plugins",
    defaultMessage: "Plugins"
  }), " ", "(", pluginSearchResults.length, ")"), /* @__PURE__ */ react.createElement(Tabs.Tab, null, formatMessage({
    id: "admin.pages.MarketPlacePage.providers",
    defaultMessage: "Providers"
  }), " ", "(", providerSearchResults.length, ")"))), /* @__PURE__ */ react.createElement(Tabs.TabPanels, null, /* @__PURE__ */ react.createElement(Tabs.TabPanel, null, searchQuery.length > 0 && !pluginSearchResults.length ? /* @__PURE__ */ react.createElement(components_EmptyNpmPackageSearch, {
    content: emptySearchMessage
  }) : /* @__PURE__ */ react.createElement(components_NpmPackagesGrid, {
    npmPackages: pluginSearchResults,
    installedPackageNames,
    useYarn,
    isInDevelopmentMode,
    npmPackageType: "plugin"
  })), /* @__PURE__ */ react.createElement(Tabs.TabPanel, null, searchQuery.length > 0 && !providerSearchResults.length ? /* @__PURE__ */ react.createElement(components_EmptyNpmPackageSearch, {
    content: emptySearchMessage
  }) : /* @__PURE__ */ react.createElement(components_NpmPackagesGrid, {
    npmPackages: providerSearchResults,
    installedPackageNames,
    useYarn,
    isInDevelopmentMode,
    npmPackageType: "provider"
  })))), /* @__PURE__ */ react.createElement(Box.Box, {
    paddingTop: 7
  }, /* @__PURE__ */ react.createElement(components_MissingPluginBanner, null)))));
};
const ProtectedMarketPlace = () => /* @__PURE__ */ react.createElement(build.CheckPagePermissions, {
  permissions: permissions/* default.marketplace.main */.Z.marketplace.main
}, /* @__PURE__ */ react.createElement(MarketPlacePage, null));

/* harmony default export */ const MarketplacePage = (ProtectedMarketPlace);


/***/ })

}]);
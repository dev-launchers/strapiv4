"use strict";(self.webpackChunk_strapi_admin=self.webpackChunk_strapi_admin||[]).push([[5483],{90978:function(y,f,e){e.r(f),e.d(f,{InformationBoxEE:function(){return I}});var t=e(32735),r=e(77035),s=e(87933),m=e(49372),u=e(23866),a=e(19565),d=e(67879),l=e(20108),n=e(98865),E=e(53104),o=e(90562),i=e(2121),g=e(32329),v=e(68886);const w="strapi_stage";function I(){const{initialData:A,isCreatingEntry:R,layout:{uid:O,options:k},isSingleType:D,onChange:C}=(0,a.Wq)(),{put:c}=(0,a.kY)(),T=A?.[w]??null,P=k?.reviewWorkflows??!1,{formatMessage:p}=(0,d.Z)(),{formatAPIError:K}=(0,a.So)(),U=(0,a.lm)(),{getFeature:Z}=(0,E.q)(),[F,S]=t.useState(!1),{meta:$,workflows:[N],isLoading:Y}=(0,g.n)({filters:{contentTypes:O}}),{error:x,isLoading:j,mutateAsync:H}=(0,l.useMutation)(async({entityId:h,stageId:W,uid:M})=>{const B=D?"single-types":"collection-types",{data:{data:G}}=await c(`/admin/content-manager/${B}/${M}/${h}/stage`,{data:{id:W}});return C({target:{name:w,value:G[w]}},!0),G},{onSuccess(){U({type:"success",message:{id:"content-manager.reviewWorkflows.stage.notification.saved",defaultMessage:"Review stage updated"}})}}),L=Z("review-workflows"),Q=x&&K(x)||null,X=async({value:h})=>{try{L?.[i.Ef]&&parseInt(L[i.Ef],10)<$.workflowCount?S("workflow"):L?.[i._X]&&parseInt(L[i._X],10)<N.stages.length?S("stage"):await H({entityId:A.id,stageId:h,uid:O})}catch{}},{themeColorName:V}=T?.color?(0,v.k)(T?.color):{};return t.createElement(n.d.Root,null,t.createElement(n.d.Title,null),P&&!R&&t.createElement(r.q4,{error:Q,name:w,id:w,value:T?.id,onChange:h=>X({value:h}),label:p({id:"content-manager.reviewWorkflows.stage.label",defaultMessage:"Review stage"}),startIcon:t.createElement(s.k,{as:"span",height:2,background:T?.color,borderColor:V==="neutral0"?"neutral150":"transparent",hasRadius:!0,shrink:0,width:2,marginRight:"-3px"}),customizeContent:()=>t.createElement(s.k,{as:"span",justifyContent:"space-between",alignItems:"center",width:"100%"},t.createElement(m.Z,{textColor:"neutral800",ellipsis:!0},T?.name),Y||j?t.createElement(u.a,{small:!0,style:{display:"flex"}}):null)},N?N.stages.map(({id:h,color:W,name:M})=>{const{themeColorName:B}=(0,v.k)(W);return t.createElement(r.ag,{startIcon:t.createElement(s.k,{height:2,background:W,borderColor:B==="neutral0"?"neutral150":"transparent",hasRadius:!0,shrink:0,width:2}),value:h,textValue:M},M)}):[]),t.createElement(n.d.Body,null),t.createElement(o.fC,{isOpen:F==="workflow",onClose:()=>S(!1)},t.createElement(o.Dx,null,p({id:"content-manager.reviewWorkflows.workflows.limit.title",defaultMessage:"You\u2019ve reached the limit of workflows in your plan"})),t.createElement(o.uT,null,p({id:"content-manager.reviewWorkflows.workflows.limit.body",defaultMessage:"Delete a workflow or contact Sales to enable more workflows."}))),t.createElement(o.fC,{isOpen:F==="stage",onClose:()=>S(!1)},t.createElement(o.Dx,null,p({id:"content-manager.reviewWorkflows.stages.limit.title",defaultMessage:"You have reached the limit of stages for this workflow in your plan"})),t.createElement(o.uT,null,p({id:"content-manager.reviewWorkflows.stages.limit.body",defaultMessage:"Try deleting some stages or contact Sales to enable more stages."}))))}},53104:function(y,f,e){e.d(f,{q:function(){return m}});var t=e(32735),r=e(19565),s=e(20108);function m({enabled:u}={enabled:!0}){const{get:a}=(0,r.kY)(),{data:d,isError:l,isLoading:n}=(0,s.useQuery)(["ee","license-limit-info"],async()=>{const{data:{data:i}}=await a("/admin/license-limit-information");return i},{enabled:u}),E=d??{},o=t.useCallback(i=>(E?.features??[]).find(v=>v.name===i)?.options??{},[E?.features]);return{license:E,getFeature:o,isError:l,isLoading:n}}},90562:function(y,f,e){e.d(f,{uT:function(){return O},fC:function(){return C},Dx:function(){return R}});var t=e(32735),r=e(49372),s=e(87933),m=e(85025),u=e(31600),a=e(72850),d=e(50563),l=e(95489),n=e(35331),E=e(60216),o=e.n(E),i=e(67879),g=e(8471),v=e.p+"0cd5f8915b265d5b1856.png";const w="limits-title",I="https://strapi.io/pricing-cloud",A="https://strapi.io/contact-sales";function R({children:c}){return t.createElement(r.Z,{variant:"alpha",id:w},c)}R.propTypes={children:o().node.isRequired};function O({children:c}){return t.createElement(r.Z,{variant:"omega"},c)}O.propTypes={children:o().node.isRequired};function k(){const{formatMessage:c}=(0,i.Z)();return t.createElement(s.k,{gap:2,paddingTop:4},t.createElement(l.Q,{variant:"default",isExternal:!0,href:I},c({id:"Settings.review-workflows.limit.cta.learn",defaultMessage:"Learn more"})),t.createElement(l.Q,{variant:"tertiary",isExternal:!0,href:A},c({id:"Settings.review-workflows.limit.cta.sales",defaultMessage:"Contact Sales"})))}const D=g.ZP.img`
  // Margin top|right reverse the padding of ModalBody
  margin-right: ${({theme:c})=>`-${c.spaces[7]}`};
  margin-top: ${({theme:c})=>`-${c.spaces[7]}`};
  width: 360px;
`;function C({children:c,isOpen:T,onClose:P}){const{formatMessage:p}=(0,i.Z)();return T?t.createElement(m.P,{labelledBy:w},t.createElement(u.f,null,t.createElement(s.k,{gap:2,paddingLeft:7,position:"relative"},t.createElement(s.k,{alignItems:"start",direction:"column",gap:2,width:"60%"},c,t.createElement(k,null)),t.createElement(s.k,{justifyContent:"end",height:"100%",width:"40%"},t.createElement(D,{src:v,"aria-hidden":!0,alt:"",loading:"lazy"}),t.createElement(a.x,{display:"flex",position:"absolute",right:0,top:0},t.createElement(d.h,{icon:t.createElement(n.Z,null),"aria-label":p({id:"global.close",defaultMessage:"Close"}),onClick:P})))))):null}C.defaultProps={isOpen:!1},C.propTypes={children:o().node.isRequired,isOpen:o().bool,onClose:o().func.isRequired}},2121:function(y,f,e){e.d(f,{$k:function(){return l},Ef:function(){return g},FT:function(){return o},Nj:function(){return d},Ot:function(){return a},VS:function(){return n},_X:function(){return v},gu:function(){return s},lv:function(){return E},qZ:function(){return m},sN:function(){return r},uL:function(){return i},x4:function(){return u}});var t=e(12301);const r="settings_review-workflows",s="Settings/Review_Workflows/RESET_WORKFLOW",m="Settings/Review_Workflows/SET_WORKFLOW",u="Settings/Review_Workflows/WORKFLOW_DELETE_STAGE",a="Settings/Review_Workflows/WORKFLOW_ADD_STAGE",d="Settings/Review_Workflows/WORKFLOW_UPDATE_STAGE",l="Settings/Review_Workflows/WORKFLOW_UPDATE_STAGE_POSITION",n="Settings/Review_Workflows/WORKFLOW_UPDATE",E={primary600:"Blue",primary200:"Lilac",alternative600:"Violet",alternative200:"Lavender",success600:"Green",success200:"Pale Green",danger500:"Cherry",danger200:"Pink",warning600:"Orange",warning200:"Yellow",secondary600:"Teal",secondary200:"Baby Blue",neutral400:"Gray",neutral0:"White"},o=t.W.colors.primary600,i={STAGE:"stage"},g="numberOfWorkflows",v="stagesPerWorkflow"},32329:function(y,f,e){e.d(f,{n:function(){return s}});var t=e(19565),r=e(20108);function s(m={}){const{get:u}=(0,t.kY)(),{id:a="",...d}=m,l={populate:"stages"},{data:n,isLoading:E,status:o,refetch:i}=(0,r.useQuery)(["review-workflows","workflows",a],async()=>(await u(`/admin/review-workflows/workflows/${a}`,{params:{...l,...d}})).data);let g=[];return a&&n?.data?g=[n.data]:Array.isArray(n?.data)&&(g=n.data),{meta:n?.meta??{},workflows:g,isLoading:E,status:o,refetch:i}}},68886:function(y,f,e){e.d(f,{k:function(){return s},s:function(){return m}});var t=e(12301),r=e(2121);function s(u){if(!u)return null;const d=Object.entries(t.W.colors).filter(([,l])=>l.toUpperCase()===u.toUpperCase()).reduce((l,[n])=>(r.lv?.[n]&&(l=n),l),null);return d?{themeColorName:d,name:r.lv[d]}:null}function m(){return Object.entries(r.lv).map(([u,a])=>({hex:t.W.colors[u].toUpperCase(),name:a}))}}}]);
